---
layout: page
title:  "v2"
permalink: v2/
---

<p>This is a work-in-progress proposal. Feel free to suggest improvements.</p>

<h3>Common Request Format</h3>

<p>Equals a function call. Zero or one responses expected.</p>

<pre><code data-language="javascript">{
    "reqid": "unique_request_id",
    "type": "request_type",
    ...
}</code></pre>

<h3>Common Response Format</h3>

<p>Equivalent to a function result. 'reply_to' used to determine which request it corresponds to.</p>

<pre><code data-language="javascript">{
    "type": "response_type",
    "reply_to": "request_id",
    ...
}</code></pre>

<h3>Error Response</h3>

<p>Sent when error occurs. Can be sent in addition or instead of the response.</p>

<pre><code data-language="javascript">{
    "type": "error",
    "reply_to": "request_id",
    "error_code": 2,
    "error_msg": "Error message here"    
}</code></pre>

<h3>Common Subscribe Request</h3>

<p>Subscription to 'events'. These can be tick stream, portfolio or any other events.</p>

<pre><code data-language="javascript">{
    "type": "subscribe_type",
    ...
}</code></pre>

<h3>Common Event Response</h3>

<p>Happens when the user had subscribed to the event. Server determines how otften it will be called</p>

<pre><code data-language="javascript">{
    "type": "event_type",
    ...
}</code></pre>

<h3>Common Unsubscribe Request</h3>

<p>Stop being sent 'events' from server.</p>

<pre><code data-language="javascript">{
    "type": "unsubscribe_type",
    ...
}</code></pre>
