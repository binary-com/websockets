(function(){"use strict";function n(n,r){if(c(n))try{n=JSON.parse(n)}catch(n){throw u(I.INVALID_DOCUMENT)}else if(!N(n))throw u(I.INVALID_DOCUMENT_TYPE);var e=t(n);return a(r)?e:e(r)}function t(n){var t={};return function(o){if(!r(o))throw u(I.INVALID_POINTER);if(t.hasOwnProperty(o))return t[o];for(var N,_=e(o),f=n;!a(f)&&!a(N=_.pop());)f=i(f,N);return t[o]=f,f}}function r(n){return!!c(n)&&(""===n||s.test(n))}function e(n){var t=n.split(T).reverse();return t.pop(),t}function o(n){var t,r,e,o=n;return E.forEach(function(n){t=n[0],r=n[1],e=new RegExp(r,"g"),o=o.replace(e,t)}),o}function i(n,t){if(t=o(t),_(n)){if("-"===t)throw u(I.HYPHEN_IS_NOT_SUPPORTED_IN_ARRAY_CONTEXT);if(!f(t))throw u(I.NON_NUMBER_TOKEN_IN_ARRAY_CONTEXT);if(t.length>1&&"0"===t[0])throw u(I.TOKEN_WITH_LEADING_ZERO_IN_ARRAY_CONTEXT);return n[t]}if(N(n))return n[t]}function u(n){return new Error(O+n)}function N(n){return"object"==typeof n&&null!==n}function _(n){return Array.isArray(n)}function f(n){return!isNaN(Number(n))}function c(n){return"string"==typeof n||n instanceof String}function a(n){return void 0===n}var E=[["/","~1"],["~","~0"]],T="/",O="JSON Pointer: ",s=/(\/[^\/]*)+/,I={HYPHEN_IS_NOT_SUPPORTED_IN_ARRAY_CONTEXT:'Implementation does not support "-" token for arrays.',INVALID_DOCUMENT:"JSON document is not valid.",INVALID_DOCUMENT_TYPE:"JSON document must be a string or object.",INVALID_POINTER:"Pointer is not valid.",NON_NUMBER_TOKEN_IN_ARRAY_CONTEXT:"Non-number tokens cannot be used in array context.",TOKEN_WITH_LEADING_ZERO_IN_ARRAY_CONTEXT:"Token with leading zero cannot be used in array context."},A={get:n};"object"==typeof exports?module.exports=A:"function"==typeof define&&define.amd?define(function(){return A}):this.jsonpointer=A}).call(function(){"use strict";return"undefined"!=typeof window?window:global}());